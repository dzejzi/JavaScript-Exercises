<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <title>Hex to rgb</title>
</head>
<style type="text/css">
</style>

<body>
    <p>Podaj kolor w formacie #00FF00</p>
    <input type="text" />
    <input type="button" value="Przekształć" />
    <p>Kolor w formacie rgb: <strong></strong></p>
    <div class="colorbox" style="width: 100px; height: 100px; border: 1px solid black;">&nbsp;</div>
</body>

<script type="text/javascript">

    function getColorFromClient(colorFromClientFunct) {

        function validateInput(colorToValidate) {

            var reg = /^#[A-Fa-f0-9]{6,6}$/;
            if (reg.test(colorToValidate) === false) {
                alert('Podaj prawidłowy kolor');
                return false
            }else{
                return colorToValidate
            }
        }

        return validateInput(colorFromClientFunct);

    }

    function getRGB(color) {
        let colorR = parseInt(color.slice(1, 3), 16);
        let colorG = parseInt(color.slice(3, 5), 16);
        let colorB = parseInt(color.slice(5, 7), 16);

        return `rgb(${colorR}, ${colorG}, ${colorB})`
    }

    function colorToP(hexColor) {
        document.getElementsByTagName('strong')[0].innerHTML = hexColor;
        document.getElementsByClassName('colorbox')[0].style.backgroundColor = hexColor;
    }

    let submit = document.querySelector('input[type="button"]');

    submit.addEventListener('click', function(){
        let colorFromClient = document.querySelector('input[type="text"]').value;
        if(getColorFromClient(colorFromClient)){
            colorToP(getRGB(colorFromClient));
        };

    })

</script>

</html>
